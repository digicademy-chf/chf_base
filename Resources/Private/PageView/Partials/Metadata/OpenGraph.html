<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
    <f:comment>OpenGraph metadata in the HTML head element.</f:comment>

    <f:argument name="webApp" type="string" optional="{false}" description="Name of the resource this page or record is part of" />
    <f:argument name="titleSubtitle" type="string" optional="{false}" description="Combined title and subtitle of the page or record" />
    <f:argument name="image" type="object" optional="{true}" default="{}" description="Image object that is respresentative of the record" />
    <f:argument name="description" type="string" optional="{true}" default="" description="Brief description of the page or record" />
    <f:argument name="siteLanguages" type="array" optional="{true}" default="{}" description="The configured site languages" />
    <f:argument name="languageMenu" type="array" optional="{true}" default="{}" description="A site-wide language menu" />

    <f:page.meta property="og:type" replace="true">website</f:page.meta>
    <f:page.meta property="og:determiner" replace="true"></f:page.meta>
    <f:page.meta property="og:title" replace="true">{titleSubtitle}</f:page.meta>
    <f:if condition="{description}">
        <f:page.meta property="og:description" replace="true">{description}</f:page.meta>
    </f:if>

    <f:comment><f:page.meta property="og:audio" replace="true"></f:page.meta>
    <f:page.meta property="og:video" replace="true"></f:page.meta></f:comment>
    <f:if condition="{image}">
        <f:page.meta property="og:image" replace="true">{f:uri.image(image: image, width: '1200c', height: '630c')}</f:page.meta>
    </f:if>

    <f:page.meta property="og:url" replace="true">{f:uri.page(absolute: 1)}</f:page.meta>
    <f:page.meta property="og:site_name" replace="true">{webApp}</f:page.meta>

    <f:for each="{languageMenu}" as="menuItem">
        <f:if condition="{menuItem.active}">
            <f:then>
                <f:page.meta property="og:locale" replace="true">{siteLanguages.{menuItem.languageUid}.hreflang}</f:page.meta>
            </f:then>
            <f:else>
                <f:comment>The two colons seem to cause trouble in the MetaTagManager<f:page.meta property="og:locale:alternate" replace="true">{siteLanguages.{menuItem.languageUid}.hreflang}</f:page.meta></f:comment>
            </f:else>
        </f:if>
    </f:for>
</html>